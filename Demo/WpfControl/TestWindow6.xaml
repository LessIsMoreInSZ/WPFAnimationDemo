<Window
    x:Class="WpfControl.TestWindow6"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WpfControl"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="TestWindow6"
    Width="800"
    Height="450"
    mc:Ignorable="d">
    <Window.Resources>
        <DrawingImage x:Key="DieCastingMachine">
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V1024 H1024 V0 H0 Z">
                    <GeometryDrawing Brush="#FF1296DB" Geometry="F1 M1024,1024z M0,0z M598.231579,363.789474L425.768421,363.789474C414.989474,363.789474 406.905263,371.873685 406.905263,382.652632 406.905263,393.431579 414.989474,401.51579 425.768421,401.515789L598.231579,401.515789C609.010526,401.515789 617.094737,393.431578 617.094737,382.652632 617.094737,371.873686 609.010526,363.789474 598.231579,363.789474z M598.231579,433.852632L425.768421,433.852632C414.989474,433.852632 406.905263,441.936843 406.905263,452.715789 406.905263,463.494735 414.989474,471.578947 425.768421,471.578947L598.231579,471.578947C609.010526,471.578947 617.094737,463.494736 617.094737,452.715789 617.094737,441.936842 609.010526,433.852631 598.231579,433.852632z" />
                    <GeometryDrawing Brush="#FF1296DB" Geometry="F1 M1024,1024z M0,0z M794.947368,245.221053L600.926316,245.221053 600.926316,158.989474 654.821053,158.989474C662.905264,202.105263 700.631579,234.442106 746.442105,234.442105 797.642105,234.442105 840.757894,191.326316 840.757895,140.126316 840.757896,88.926316 797.642106,45.810527 746.442105,45.810526 700.631579,45.810526 662.905263,78.147368 654.821053,121.263158L600.926316,121.263158 600.926316,94.315789C600.926316,67.368421,579.368421,45.810526,552.421053,45.810526L444.631579,45.810526C417.684211,45.810526,396.126316,67.368421,396.126316,94.315789L396.126316,242.526316 229.052632,242.526316C121.263158,242.526316,35.031579,328.757895,35.031579,436.547368L35.031579,635.957895C35.031579,738.357895,113.178947,819.2,212.884211,829.978947L212.884211,862.315789C196.71579,867.705263,188.631579,878.48421,188.631579,894.652632L188.631579,940.463158C188.631579,959.326316,204.8,975.494737,223.663158,975.494737L382.652632,975.494737C401.51579,975.494737,417.684211,959.326316,417.684211,940.463158L417.684211,894.652632C417.684211,878.484211,406.905264,865.010527,390.736842,859.621053L390.736842,829.978947 641.347368,829.978947 641.347368,862.315789C627.873684,867.705263,617.094736,878.48421,617.094737,894.652632L617.094737,940.463158C617.094737,959.326316,633.263158,975.494737,652.126316,975.494737L811.115789,975.494737C829.978947,975.494737,846.147368,959.326316,846.147368,940.463158L846.147368,894.652632C846.147368,878.484211,835.368421,865.010527,819.2,859.621053L819.2,829.978947C916.210526,819.2,994.357895,738.357894,994.357895,635.957895L994.357895,436.547368C988.968421,331.452631,902.736842,245.221052,794.947368,245.221053z M749.136842,86.231579C778.778947,86.231579 805.726316,110.484211 805.726316,142.821053 805.726316,175.157895 781.473684,199.410527 749.136842,199.410526 716.8,199.410525 692.547368,175.157894 692.547368,142.821053 692.547368,110.484212 716.8,86.231579 749.136842,86.231579z M676.378947,859.621053L676.378947,757.221053C676.378947,730.273685 697.936842,706.021053 727.578947,706.021053 757.221052,706.021053 778.778947,727.578948 778.778947,757.221053L778.778947,859.621053 676.378947,859.621053z M676.378947,282.947368L776.084211,282.947368 776.084211,687.157895C762.610527,676.378948 743.747369,670.989474 724.884211,670.989474 706.021053,670.989474 689.852632,676.378948 673.684211,687.157895L673.684211,282.947368z M436.547368,97.010526C436.547368,91.621052,441.936842,86.231579,447.326316,86.231579L555.115789,86.231579C560.505263,86.231579,565.894736,91.621053,565.894737,97.010526L565.894737,245.221053 436.547368,245.221053 436.547368,97.010526z M250.610526,757.221053C250.610526,730.273685 272.168421,706.021053 301.810526,706.021053 331.452631,706.021053 353.010526,727.578948 353.010526,757.221053L353.010526,792.252632 250.610526,792.252632 250.610526,757.221053z M350.315789,684.463158C336.842105,673.684211 317.978947,668.294737 299.115789,668.294737 280.252631,668.294737 264.08421,673.684211 247.915789,684.463158L247.915789,280.252632 350.315789,280.252632 350.315789,684.463158z M72.757895,638.652632L72.757895,439.242105C72.757895,358.4,134.736842,293.726316,212.884211,282.947368L212.884211,792.252632C134.736843,784.168421,72.757895,716.8,72.757895,638.652632z M377.263158,937.768421L226.357895,937.768421 226.357895,897.347368 377.263158,897.347368 377.263158,937.768421z M350.315789,859.621053L250.610526,859.621053 250.610526,829.978947 350.315789,829.978947 350.315789,859.621053z M388.042105,794.947368L388.042105,282.947368 638.652632,282.947368 638.652632,794.947368 388.042105,794.947368z M803.031579,937.768421L649.431579,937.768421 649.431579,897.347368 803.031579,897.347368 803.031579,937.768421z M951.242105,638.652632C951.242105,719.494737,891.957894,784.168421,813.810526,792.252632L813.810526,282.947368C891.957894,291.031579,951.242105,358.4,951.242105,436.547368L951.242105,638.652632z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>

        <DrawingImage x:Key="DieCastRod">
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V1024 H1024 V0 H0 Z">
                    <GeometryDrawing Brush="#FF1296DB" Geometry="F1 M1024,1024z M0,0z M843,132C847.4,132,851,135.6,851,140L851,200C851,204.4,847.4,208,843,208L553,208 553,321 587,321C621.947,321,650.425,349.129,650.991,383.943L651,385 651,520 725,520 725,519C725,484.053,753.129,455.575,787.943,455.009L789,455 853,455C888.3,455,917,483.7,917,519L917,829C917,864.3,888.3,893,853,893L789,893C753.7,893,725,864.3,725,829L725,828 300,828 300,829C300,863.947,271.871,892.425,237.057,892.991L236,893 172,893C136.7,893,108,864.3,108,829L108,519C108,483.7,136.7,455,172,455L236,455C271.3,455,300,483.7,300,519L300,520 379,520 379,385C379,350.053,407.129,321.575,441.943,321.009L443,321 477,321 477,208 187,208C182.683,208,179.136,204.535,179.004,200.248L179,200 179,140C179,135.6,182.6,132,187,132z M229,527L181,527 181,821 229,821 229,527z M846,527L798,527 798,821 846,821 846,527z M725,592L302,592 302,756 725,756 725,592z M579,393L451,393 451,517 579,517 579,393z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </Window.Resources>


    <Grid Width="600">
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <Canvas>
            <Rectangle Width="70" Height="70">
                <Rectangle.RenderTransform>
                    <TranslateTransform x:Name="MachineRT" />
                </Rectangle.RenderTransform>
                <Rectangle.Fill>
                    <ImageBrush ImageSource="{StaticResource DieCastingMachine}" />
                </Rectangle.Fill>
                <!--<Image
                    Width="70"
                    Height="70"
                    Source="{StaticResource DieCastingMachine}" />-->
            </Rectangle>


            <Rectangle
                Width="60"
                Height="70"
                Margin="150,-8,0,0">
                <Rectangle.RenderTransform>
                    <TranslateTransform x:Name="RodRT" />
                </Rectangle.RenderTransform>
                <Rectangle.Fill>
                    <ImageBrush ImageSource="{StaticResource DieCastRod}" />
                </Rectangle.Fill>

                <!--<Image.RenderTransform>
            <RotateTransform Angle="-90" CenterX="0.5" CenterY="0.5" />
        </Image.RenderTransform>-->
            </Rectangle>
        </Canvas>


        <StackPanel
            Grid.Column="2"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Orientation="Vertical">
            <Button
                x:Name="btnClose"
                Margin="10"
                Click="btnClose_Click"
                Content="合模" />

            <Button
                x:Name="btnOpen"
                Margin="10"
                Click="btnOpen_Click"
                Content="开模" />
        </StackPanel>

    </Grid>
</Window>
